DROP DATABASE eetakemonbbddtest;
CREATE DATABASE eetakemonbbddtest;

USE eetakemonbbddtest;
CREATE TABLE Atack(
  name VARCHAR(45) NOT NULL,
  type ENUM('FUEGO', 'TIERRA', 'AGUA', 'AIRE', 'NEUTRO') NOT NULL,
  damageBase INT NOT NULL,
  description VARCHAR(45),
  PRIMARY KEY (name)
);

CREATE TABLE EetakemonDto(
  name VARCHAR(45) NOT NULL,
  level INT,
  ps INT NOT NULL,
  type ENUM('FUEGO', 'TIERRA', 'AGUA', 'AIRE', 'NEUTRO') NOT NULL,
  image VARCHAR(45),
  description VARCHAR (250),
  PRIMARY KEY (name)
);

CREATE TABLE AtacksEetakemon(
  atackName VARCHAR(45) NOT NULL,
  eetakemonName VARCHAR(45) NOT NULL,
  PRIMARY  KEY (atackName),
  FOREIGN  KEY (atackName) REFERENCES Atack(name),
  FOREIGN  KEY (eetakemonName) REFERENCES Eetakemon(name)
);

CREATE TABLE UserDto(
  name VARCHAR(45) NOT NULL,
  surname VARCHAR(45),
  username VARCHAR(45) NOT NULL,
  password VARCHAR(45) NOT NULL,
  email VARCHAR(45) NOT NULL,
  rol INT NOT NULL,
  image VARCHAR(45),
  PRIMARY KEY (username)
);

CREATE TABLE EetakemonsUser(
  username VARCHAR(45) NOT NULL,
  eetakemonName VARCHAR(45) NOT NULL,
  PRIMARY KEY (username),
  FOREIGN  KEY (eetakemonName) REFERENCES Eetakemon(name),
  FOREIGN  KEY (username) REFERENCES User(username)
);
