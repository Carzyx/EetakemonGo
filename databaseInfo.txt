DROP DATABASE eetakemonbbddtest;
CREATE DATABASE eetakemonbbddtest;

USE eetakemonbbddtest;
CREATE TABLE Atack(
  name VARCHAR(45) NOT NULL,
  type ENUM('FUEGO', 'TIERRA', 'AGUA', 'AIRE', 'NEUTRO') NOT NULL,
  damageBase INT NOT NULL,
  description VARCHAR(45),
  PRIMARY KEY (name)
);

CREATE TABLE EetakemonDto(
  name VARCHAR(45) NOT NULL,
  level INT,
  ps INT NOT NULL,
  type ENUM('FUEGO', 'TIERRA', 'AGUA', 'AIRE', 'NEUTRO') NOT NULL,
  image VARCHAR(45),
  description VARCHAR (250),
  PRIMARY KEY (name)
);

CREATE TABLE AtacksEetakemon(
  atackName VARCHAR(45) NOT NULL,
  eetakemonName VARCHAR(45) NOT NULL,
  FOREIGN  KEY (atackName) REFERENCES Atack(name),
  FOREIGN  KEY (eetakemonName) REFERENCES EetakemonDto(name)
);

CREATE TABLE UserDto(
  name VARCHAR(45) NOT NULL,
  surname VARCHAR(45),
  username VARCHAR(45) NOT NULL,
  password VARCHAR(45) NOT NULL,
  email VARCHAR(45) NOT NULL,
  rol INT NOT NULL,
  image VARCHAR(45),
  PRIMARY KEY (username)
);

CREATE TABLE EetakemonsUser(
  username VARCHAR(45) NOT NULL,
  eetakemonName VARCHAR(45) NOT NULL,
  FOREIGN  KEY (eetakemonName) REFERENCES EetakemonDto(name),
  FOREIGN  KEY (username) REFERENCES UserDto(username)
);
INSERT INTO `eetakemonbbddtest`.`userdto` (`name`, `surname`, `username`, `password`, `email`, `rol`, `image`) VALUES ('Nacho', 'Ballesteros', 'Nach', '1234', 'n.balle.lo@gmail.com', '0', 'profile/evoluciona.png');
INSERT INTO `eetakemonbbddtest`.`atack` (`name`, `type`, `damageBase`, `description`) VALUES ('Puñetazo', 'NEUTRO', '10', 'Un potente puñetazo en la cara');
INSERT INTO `eetakemonbbddtest`.`eetakemondto` (`name`, `level`, `ps`, `type`, `image`, `description`) VALUES ('Charizard', '1', '100', 'FUEGO', 'pokemons/charizard.png', 'El de toda la vida pa que vamos a explicar mas');
INSERT INTO `eetakemonbbddtest`.`eetakemondto` (`name`, `level`, `ps`, `type`, `image`, `description`) VALUES ('Charmander', '1', '100', 'FUEGO', 'pokemons/charmander.png', 'El tipico');
INSERT INTO `eetakemonbbddtest`.`eetakemonsuser` (`username`, `eetakemonName`) VALUES ('Nach', 'Charizard');
INSERT INTO `eetakemonbbddtest`.`atackseetakemon` (`atackName`, `eetakemonName`) VALUES ('Puñetazo', 'Charizard');